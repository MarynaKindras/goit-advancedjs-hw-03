{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.headers.common['x-api-key'] =\n  'live_5LNqLi7hA220b3is0eAXsr4fXkIdpBzuUhUqHdIMTxsYbLuejzcODq9K4Nf7sk47';\n\nexport async function fetchBreeds() {\n  const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n  return response.data;\n}\n\nexport async function fetchCatByBreed(breedId) {\n  const response = await axios.get(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n  );\n  return response.data;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n//access page elements\nconst body = document.querySelector('body');\nconst select = document.querySelector('.select');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\n//hide dropdown menu\nselect.style.display = 'none';\n//add listeners to document and dropdown\ndocument.addEventListener('DOMContentLoaded', onDocumentLoad);\nselect.addEventListener('change', breedClickHandler);\n//function to request cat info\nasync function breedClickHandler() {\n  const selectelem = select.children.selectElement; //access select element\n  const selectedOption = selectelem.options[selectelem.selectedIndex].value; //check which option was cklicked\n  try {\n    catInfo.style.display = 'none'; //hide info on previous cat if it was\n    loader.style.display = 'block'; //display loader\n    const breed = await fetchCatByBreed(selectedOption); //wait for results on cat breed\n    loader.style.display = 'none'; //hide loader\n    renderCatInfo(breed); //render data on selected breed\n  } catch (error) {\n    // handle error\n    body.innerHTML = `Ooops, something went wrong!... Check internet connection and refresh page and/or try again later`;\n    iziToast.error({\n      message: `Failed to load content`,\n      position: 'topRight',\n    });\n    console.log(`${error.message}`);\n  }\n}\n//function executed on page load\nasync function onDocumentLoad() {\n  try {\n    const breeds = await fetchBreeds(); //wait to get all cat breeds\n    loader.style.display = 'none'; //hide loader after data received\n    renderBreeds(breeds); // render data to select tag\n    select.style.display = 'flex'; //display dropdown with breed options\n  } catch (error) {\n    // handle error\n    body.innerHTML = `Ooops, something went wrong!... Check internet connection and refresh page and/or try again later`;\n    iziToast.error({\n      message: `Failed to load content`,\n      position: 'topRight',\n    });\n    console.log(`${error.message}`);\n  }\n}\n//function to render cat breeds to select elem\nfunction renderBreeds(breeds) {\n  const markup = breeds\n    .map(({ id, name }) => {\n      return `<option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n  select.innerHTML = `<select class=\"breed-select\" id=\"selectElement\">${markup}</select>`;\n}\n//function to render info on a selected cat\nfunction renderCatInfo(breed) {\n  catInfo.style.display = 'flex';\n  const markup = `<img class=\"cat-img\" src=\"${breed[0].url}\" alt=\"${breed[0].breeds[0].name}\"  />\n    <div class=\"breed-info\">\n      <h1 class=\"cat-name\">${breed[0].breeds[0].name}</h1>\n      <p class=\"description\">${breed[0].breeds[0].description}</p>\n      <h2 class=\"temperament\">Temperament:</h2>\n      <p class=\"temp-descr\">${breed[0].breeds[0].temperament}</p>\n    </div>\n    `;\n  return (catInfo.innerHTML = markup);\n}\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","body","select","loader","catInfo","onDocumentLoad","breedClickHandler","selectelem","selectedOption","breed","renderCatInfo","error","iziToast","breeds","renderBreeds","markup","id","name"],"mappings":"6vBACAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,eAAeC,GAAc,CAElC,OADiB,MAAMD,EAAM,IAAI,qCAAqC,GACtD,IAClB,CAEO,eAAeE,EAAgBC,EAAS,CAI7C,OAHiB,MAAMH,EAAM,IAC3B,wDAAwDG,GAC5D,GACkB,IAClB,CCVA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAElDF,EAAO,MAAM,QAAU,OAEvB,SAAS,iBAAiB,mBAAoBG,CAAc,EAC5DH,EAAO,iBAAiB,SAAUI,CAAiB,EAEnD,eAAeA,GAAoB,CACjC,MAAMC,EAAaL,EAAO,SAAS,cAC7BM,EAAiBD,EAAW,QAAQA,EAAW,eAAe,MACpE,GAAI,CACFH,EAAQ,MAAM,QAAU,OACxBD,EAAO,MAAM,QAAU,QACvB,MAAMM,EAAQ,MAAMV,EAAgBS,CAAc,EAClDL,EAAO,MAAM,QAAU,OACvBO,EAAcD,CAAK,CACpB,OAAQE,EAAP,CAEAV,EAAK,UAAY,oGACjBW,EAAS,MAAM,CACb,QAAS,yBACT,SAAU,UAChB,CAAK,EACD,QAAQ,IAAI,GAAGD,EAAM,SAAS,CAC/B,CACH,CAEA,eAAeN,GAAiB,CAC9B,GAAI,CACF,MAAMQ,EAAS,MAAMf,IACrBK,EAAO,MAAM,QAAU,OACvBW,EAAaD,CAAM,EACnBX,EAAO,MAAM,QAAU,MACxB,OAAQS,EAAP,CAEAV,EAAK,UAAY,oGACjBW,EAAS,MAAM,CACb,QAAS,yBACT,SAAU,UAChB,CAAK,EACD,QAAQ,IAAI,GAAGD,EAAM,SAAS,CAC/B,CACH,CAEA,SAASG,EAAaD,EAAQ,CAC5B,MAAME,EAASF,EACZ,IAAI,CAAC,CAAE,GAAAG,EAAI,KAAAC,KACH,kBAAkBD,MAAOC,YACjC,EACA,KAAK,EAAE,EACVf,EAAO,UAAY,mDAAmDa,YACxE,CAEA,SAASL,EAAcD,EAAO,CAC5BL,EAAQ,MAAM,QAAU,OACxB,MAAMW,EAAS,6BAA6BN,EAAM,GAAG,aAAaA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,6BAE1DA,EAAM,GAAG,OAAO,GAAG;AAAA,+BACjBA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,8BAEpBA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,MAG/C,OAAQL,EAAQ,UAAYW,CAC9B"}